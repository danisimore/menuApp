# MenuApp
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ –ò–Ω—Ç–µ–Ω—Å–∏–≤ –ø–æ Python –æ—Ç Ylab.

**–í–ï–†–°–ò–Ø –û–¢ 11.02.2024**

üõ† **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –î–ó #4 - *–ú–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ—Å—Ç—å, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å***
- [x] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—É—â–µ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- [x] –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É —Å –ø–æ–º–æ—â—å—é Celery + RabbitMQ.
- [x] –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç (GET) –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤—Å–µ—Ö –º–µ–Ω—é —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –ø–æ–¥–º–µ–Ω—é –∏ —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –±–ª—é–¥–∞–º–∏.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –≤ background task (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ FastAPI)
- [x] * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –∏–∑ google sheets —Ä–∞–∑ –≤ 15 —Å–µ–∫.
- [x] ** –ë–ª—é–¥–∞ –ø–æ –∞–∫—Ü–∏–∏. –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ (%) —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ G —Ñ–∞–π–ª–∞ Menu.xlsx


‚ú® **–ó–∞–¥–∞–Ω–∏—è —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π**
   1. *–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–º–µ–Ω—é –∏ –±–ª—é–¥ –¥–ª—è –ú–µ–Ω—é —á–µ—Ä–µ–∑ –æ–¥–∏–Ω (—Å–ª–æ–∂–Ω—ã–π) ORM –∑–∞–ø—Ä–æ—Å*
      ```
      /api_v1/database/database_services.py -> –§—É–Ω–∫—Ü–∏—è select_specific_menu
      ```
   2. *–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ¬´–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª-–≤–∞ –±–ª—é–¥ –∏ –ø–æ–¥–º–µ–Ω—é –≤ –º–µ–Ω—é¬ª –∏–∑ Postman —Å –ø–æ–º–æ—â—å—é pytest*
      ```
      /tests/test_quan_of_dishes_and_submenus.py
      ```
   3. *–û–ø–∏—Å–∞—Ç—å —Ä—É—á–∫–∏ API –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π c OpenAPI*
      ```
      URL - http://localhost:8000/docs

      JSON –∏ yaml c –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä—É—á–µ–∫ -> /api_v1/docs/
      ```
   4. *–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö –∞–Ω–∞–ª–æ–≥ Django reverse() –¥–ª—è FastAPI*
      ```
      /api_v1/custom_router.py
      ```
   5. *–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é –∏–∑ google sheets —Ä–∞–∑ –≤ 15 —Å–µ–∫*
      ```
      /api_v1/sync_google_sheets/data_sync.py
      ```
   6. *–ë–ª—é–¥–∞ –ø–æ –∞–∫—Ü–∏–∏. –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ (%) —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ G —Ñ–∞–π–ª–∞ Menu.xlsx*
      ```
      –°–∫–∏–¥–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—ç—à–µ, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –≤ —Å—Ç–æ–ª–±—Ü–µ:
         api_v1/sync_google_sheets/operations.py

      –î–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–∫–∏–¥–∫–∏ –∫ —Ü–µ–Ω–µ –≤–æ –≤—Ä–µ–º—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞:
         /api_v1/dish/dish_utils.py
      ```
**‚ùóÔ∏è –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ‚ùóÔ∏è**

‚ö†Ô∏è –°—Å—ã–ª–∫–∞ –Ω–∞ –≥—É–≥–ª —Ç–∞–±–ª–∏—Ü—É -

https://docs.google.com/spreadsheets/d/1hhrwkP1xBU7jvxVEcwtBVkSOhLEwJBG3ZpOiA0D-hfY/edit?usp=sharing

‚ö†Ô∏è –û—Ç–∫—Ä—ã–ª –¥–æ—Å—Ç—É–ø –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–º. –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ![Copy Repo-link](https://i.imgur.com/p8WPXpm.png)
2. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –Ω–µ–π –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É ![Open CMD](https://i.imgur.com/DQay8e8.png)
3. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã
   ```
   git clone https://github.com/danisimore/menuApp.git
   ```
    ![Clon Repo](https://i.imgur.com/FkDS1pr.png)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞ c –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã:
   ```
   cd menuApp
   ```

5. –ß—Ç–æ–±—ã –∑–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É
    ```
    sudo make up
    ```
6. –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ç–µ—Å—Ç–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É
   ```
   sudo make up_tests_container
   ```
7. –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —Å–∏–Ω—Ö–æ—Ä–Ω–∏–∑–∞—Ü–∏—é —Å Google Sheets –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É
   ```
   sudo make run_sync
   ```
8. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–Ω—Ö–æ—Ä–Ω–∏–∑–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É
   ```
   sudo make stop_sync
   ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ Postman.

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**:
1. –ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å **–≤—Å–µ —Ç–µ—Å—Ç—ã**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   sudo make run_tests
   ```
2. –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ **–º–µ–Ω—é**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   sudo make run_menu_tests
   ```
3. –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ **–ø–æ–¥–º–µ–Ω—é**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   sudo make run_submenu_tests
   ```
4. –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ **–±–ª—é–¥**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   sudo make run_dishes_tests
   ```
5. –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –æ–ø–µ—Ä–∞—Ü–∏–∏ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª-–≤–∞ –±–ª—é–¥ –∏ –ø–æ–¥–º–µ–Ω—é –≤ –º–µ–Ω—é**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   sudo make run_check_quan_of_dishes_and_submenus_tests
   ```
